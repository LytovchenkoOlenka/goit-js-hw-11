{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.png","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEpSURBVHgBrZXtEcIgDIZTzp5/3URHcSPpJLpBXcVd+FPwiqQt1y+SUNv3DuUkvA+0SQQg5Jx7WOt8zsBYyudEmXsPuijg3bbtB1ipa/jQYQ+UZVmBpHjyprEvyBTGSjf52zwbssdchBxhTkI4c2vtTTJMxcwgw6RObZReXDycMSYBcTWuQX/6RqcMQpCmIOPNHbG30SKAgkjmU8AJBJ3PpQ5GOO2KCYVFGEaFa9J+EbCEDIAsc5SCTCkFPjWXlHWD2Jvw5MNP2b1HBEzN42OZvhMRwmURly1cCvfrszSlC41PxR6SKjQs3g4Qg6z9PpdBxsitIhWDXrPDcZCtWplHHQEhzY+AiOZ7IJz5qg5iWygK/wjfFwD+T18pdfXe37e0j07jTeTBPZYfWztI8097RKsAAAAASUVORK5CYII=\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport cross from '../img/bi_x-octagon.png';\n\nexport function searchImages(keyword) {\n  const KEY = '42691654-856ee9298c14d5c2eed97729f';\n  const mainURL = ' https://pixabay.com/api/';\n  const loader = document.querySelector('.loader');\n\n  loader.style.display = 'block';\n\n  return fetch(\n    `${mainURL}?key=${KEY}&q=${keyword}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`Image error! ${response.statusText}`);\n      }\n      return response.json();\n    })\n    .then(data => {\n      loader.style.display = 'none';\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: '',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          backgroundColor: '#EF4040',\n          messageColor: '#ffffff',\n          position: 'topRight',\n          iconUrl: cross,\n        });\n      }\n      return data;\n    })\n    .catch(error => {\n      iziToast.error({\n        title: '',\n        message: `Error${error}`,\n        backgroundColor: '#EF4040',\n        messageColor: '#ffffff',\n        position: 'topRight',\n        iconUrl: cross,\n      });\n      loader.style.display = 'none';\n    });\n}\n","export function addMarkup(images) {\n  return images.hits\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item\" >\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n      </a>\n      <div class=\"gallery-info-container\">\n          <p class=\"gallery-info\">\n              <span class=\"gallery-info-span\">Likes: <span class=\"numbers-span\">${likes}</span>\n              </span>    \n          </p>\n          <p class=\"gallery-info\">\n              <span class=\"gallery-info-span\">Views: <span class=\"numbers-span\">${views}</span>\n              </span>    \n          </p>\n          <p class=\"gallery-info\">\n              <span class=\"gallery-info-span\">Comments: <span class=\"numbers-span\">${comments}</span>\n              </span>    \n          </p>\n          <p class=\"gallery-info\">\n              <span class=\"gallery-info-span\">Downloads: <span class=\"numbers-span\">${downloads}</span>\n              </span>    \n          </p>\n      </div>\n  </li>`\n    )\n    .join('');\n}\n","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport cross from './img/bi_x-octagon.png';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst options = {\n  captionsData: 'alt',\n  captionDelay: 250,\n};\n\nconst lightbox = new SimpleLightbox('.gallery-item a', options);\nlightbox.on('show.simplelightbox');\n\nimport { addMarkup } from './js/render-functions.js';\nimport { searchImages } from './js/pixabay-api.js';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\nform.addEventListener('submit', handleFormSubmit);\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n\n  const QUERY = form.elements.query.value.trim();\n\n  gallery.innerHTML = '';\n  loader.style.display = 'block';\n\n  if (QUERY === '') {\n    alert('Please enter a keyword to search for an image');\n    return;\n  }\n  searchImages(QUERY)\n    .then(data => {\n      gallery.innerHTML = addMarkup(data);\n      lightbox.refresh();\n      form.reset();\n    })\n    .catch(error => {\n      iziToast.error({\n        title: '',\n        message: `Error${error}`,\n        backgroundColor: '#EF4040',\n        messageColor: '#ffffff',\n        position: 'topRight',\n        iconUrl: cross,\n      });\n    });\n}\n"],"names":["cross","searchImages","keyword","KEY","mainURL","loader","response","data","iziToast","error","addMarkup","images","largeImageURL","webformatURL","tags","likes","views","comments","downloads","options","lightbox","SimpleLightbox","form","gallery","handleFormSubmit","event","QUERY"],"mappings":"6vBAAA,MAAeA,EAAA,qjBCIR,SAASC,EAAaC,EAAS,CACpC,MAAMC,EAAM,qCACNC,EAAU,4BACVC,EAAS,SAAS,cAAc,SAAS,EAE/C,OAAAA,EAAO,MAAM,QAAU,QAEhB,MACL,GAAGD,CAAO,QAAQD,CAAG,MAAMD,CAAO,0DACnC,EACE,KAAKI,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,gBAAgBA,EAAS,UAAU,EAAE,EAEvD,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,IACJF,EAAO,MAAM,QAAU,OACnBE,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,MAAO,GACP,QACE,2EACF,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,QAASR,CACnB,CAAS,EAEIO,EACR,EACA,MAAME,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,GACP,QAAS,QAAQC,CAAK,GACtB,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,QAAST,CACjB,CAAO,EACDK,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CC9CO,SAASK,EAAUC,EAAQ,CAChC,OAAOA,EAAO,KACX,IACC,CAAC,CACC,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,sCAC8BN,CAAa;AAAA,4CACPC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA,kFAIYC,CAAK;AAAA;AAAA;AAAA;AAAA,kFAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qFAIFC,CAAQ;AAAA;AAAA;AAAA;AAAA,sFAIPC,CAAS;AAAA;AAAA;AAAA;AAAA,QAK1F,EACA,KAAK,EAAE,CACZ,CC5BA,MAAMC,EAAU,CACd,aAAc,MACd,aAAc,GAChB,EAEMC,EAAW,IAAIC,EAAe,kBAAmBF,CAAO,EAC9DC,EAAS,GAAG,qBAAqB,EAKjC,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3ClB,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OACvBiB,EAAK,iBAAiB,SAAUE,CAAgB,EAEhD,SAASA,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EAEpB,MAAMC,EAAQJ,EAAK,SAAS,MAAM,MAAM,OAKxC,GAHAC,EAAQ,UAAY,GACpBlB,EAAO,MAAM,QAAU,QAEnBqB,IAAU,GAAI,CAChB,MAAM,+CAA+C,EACrD,MACD,CACDzB,EAAayB,CAAK,EACf,KAAKnB,GAAQ,CACZgB,EAAQ,UAAYb,EAAUH,CAAI,EAClCa,EAAS,QAAO,EAChBE,EAAK,MAAK,CAChB,CAAK,EACA,MAAMb,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,GACP,QAAS,QAAQC,CAAK,GACtB,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,QAAST,CACjB,CAAO,CACP,CAAK,CACL"}